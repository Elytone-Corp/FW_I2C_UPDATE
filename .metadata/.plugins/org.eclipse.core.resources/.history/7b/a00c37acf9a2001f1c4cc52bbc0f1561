



/*Script - validator_manager.c*/
// by:-  Ashutosh tiwari



#include "validation_manager.h"

#include "crc.h"
#include "partition_manager.h"
#include <stdio.h>
#include <string.h>


#define MAGIC_NUMBER 0x4D41524B

#define METADATA_OFFSET (PARTITION_SIZE -16);

typedef struct  {
	uint32_t magic_number;
	uint32_t version;
	uint32_t crc;

} firmware_metadata_t;


static firmware_metadata_t ValidationManager_ReadMetadata(uint32_t partition_start_address) {
    firmware_metadata_t metadata;
    memcpy(&metadata, (void*)(partition_start_address + METADATA_OFFSET), sizeof(metadata));
    return metadata;
}



